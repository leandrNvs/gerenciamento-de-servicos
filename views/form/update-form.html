@template(template/form)

@vars(['title' => 'Atualização de dados'])


@reusable('form-control')
<div class="form-control">
  <div class="label">
    <label for="$id">$label</label>
    <span class="form-err @hasError('active')">@err('$name')</span>
  </div>
  <div class="input-control">
    <input type="$type" name="$name" id="$id" value="@bag('$name', 'form-update')" placeholder="{{$service->$name}}" />
  </div>
</div>
@endreusable

@reusable('textarea')
<div class="form-control">
  <div class="label">
    <label for="$id">$label</label>
    <span class="form-err @hasError('$name')">@err('$name')</span>
  </div>
  <div class="input-control textarea">
    <textarea name="$name" id="$id" rows="7"></textarea>
  </div>
</div>
@endreusable

<section class="container">
  <h1>Atualização de dados </h1>

  <div class="filters">
    <div class="panes">
      <a href="@!route('pages.update', ['id' => $service->id])" class="active">Atualização de dados</a>
      <a href="@!route('pages.update-service', ['id' => $service->id])">Informações do serviço prestado</a>
    </div>
  </div>

  <form action="@!route('services.update', ['id' => $service->id])" method="POST" class="part-form" autocomplete="off">
    @!put()
    @!hidden($service->id)
    <h2>1. dados do cliente</h2>
    <div class="row">
      @use('form-control', [ 'id' => 'name', 'type' => 'text', 'label' => 'Nome do cliente', 'name' => 'name', 'data' => '$service->client_name' ])
      @use('form-control', [ 'id' => 'phone', 'type' => 'text', 'label' => 'Telefone', 'name' => 'phone' 'data' => '$service->client_phone' ])
    </div>
    <div class="row">
      @use('form-control', [ 'id' => 'cpf', 'type' => 'text', 'label' => 'CPF', 'name' => 'cpf' 'data' => '$service->client_cpf' ])
      @use('form-control', ['id' => 'address', 'type' => 'text', 'label' => 'Endereço', 'name' => 'client_address' 'data' => '$service->client_address'])
    </div>

    <h2>2. dados do veículo</h2>
    <div class="row">
      @use('form-control', [ 'id' => 'brand', 'type' => 'text', 'label' => 'Marca', 'name' => 'car_brand', 'data' => '$service->car_brand'])
      @use('form-control', [ 'id' => 'model', 'type' => 'text', 'label' => 'Modelo', 'name' => 'car_model', 'data' => '$service->car_model'])
    </div>
    <div class="row">
      @use('form-control', [ 'id' => 'year', 'type' => 'text', 'label' => 'Ano', 'name' => 'car_year', 'data' => '$service->car_year'])
      @use('form-control', [ 'id' => 'color', 'type' => 'text', 'label' => 'Cor', 'name' => 'car_color', 'data' => '$service->car_color'])
    </div>
    <div class="row">
      @use('form-control', [ 'id' => 'plate', 'type' => 'text', 'label' => 'Placa do veículo', 'name' => 'plate', 'data' => '$service->car_plate'])
      @use('form-control', [ 'id' => 'km', 'type' => 'text', 'label' => 'KM atual', 'name' => 'car_km', 'data' => '$service->car_km'])
      @use('form-control', [ 'id' => 'fuel', 'type' => 'text', 'label' => 'Combustível', 'name' => 'car_fuel', 'data' => '$service->car_fuel'])
    </div>
    <div>
      @use('textarea', [ 'id' => 'reported_defect', 'name' => 'car_reported_defect', 'label' => 'Problema informado', 'data' => '$service->car_reported_defect'])
    </div>
    <div>
      @use('textarea', [ 'id' => 'problem_found', 'name' => 'car_problem_found', 'label' => 'Problema detectado', 'data' => '$service->car_problem_found'])
    </div>

    <div class="form-buttons">
      <button type="submit">Salvar alterações</button>
      <a href="/">Cancelar</a>
    </div>
  </form>
</section>
